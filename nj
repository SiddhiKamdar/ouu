Now we move from â€œfile storedâ€ â†’ â€œfile servedâ€ properly.

Right now:

You saved file inside:

uploads/travel-documents/


DB stores:

uploads/travel-documents/file.pdf


Frontend only shows filename

But browser cannot access it directly

Because Spring Boot is not serving that folder as static resource.

ğŸ¯ Goal

When clicking document:

http://localhost:8080/uploads/travel-documents/file.pdf


Browser should open the PDF.

âœ… STEP 1 â€” Expose Upload Folder As Static Resource

In your backend, create this config class:

ğŸ“ config/FileUploadConfig.java

package com.example.backend.config;

import org.springframework.context.annotation.Configuration;
import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;

import org.springframework.beans.factory.annotation.Value;

@Configuration
public class FileUploadConfig implements WebMvcConfigurer {

    @Value("${file.upload-dir}")
    private String uploadDir;

    @Override
    public void addResourceHandlers(ResourceHandlerRegistry registry) {

        registry.addResourceHandler("/uploads/**")
                .addResourceLocations("file:" + uploadDir);
    }
}

ğŸ§  What This Does

Maps:

http://localhost:8080/uploads/**


To your physical folder:

uploads/travel-documents/


Now Spring serves files directly.

âœ… STEP 2 â€” Make Sure DB Stores RELATIVE Path

You should be storing:

document.setDocumentUrl("uploads/travel-documents/" + fileName);


NOT full system path.

âœ… STEP 3 â€” Update Frontend To Render PDF

In TravelDetail.tsx change document list:

Replace:

<li key={doc.id}>
  {doc.documentUrl.split(/[/\\]/).pop()}
</li>


With:

<li key={doc.id}>
  <a
    href={`http://localhost:8080/${doc.documentUrl}`}
    target="_blank"
    rel="noopener noreferrer"
  >
    {doc.documentUrl.split(/[/\\]/).pop()}
  </a>
</li>


Now clicking opens PDF in new tab.

ğŸš€ RESULT

Now:

Click document

PDF opens in browser

No backend controller needed

Clean architecture

ğŸ¯ OPTIONAL â€” Show PDF Inline (Advanced)

If you want to embed inside page:

<iframe
  src={`http://localhost:8080/${doc.documentUrl}`}
  width="100%"
  height="500px"
/>


But link is cleaner for now.

ğŸ”¥ After Doing This

Restart backend

Refresh frontend

Click document

PDF should open.

registry.addResourceHandler("/uploads/**")
        .addResourceLocations("file:" + uploadDir);


file.upload-dir=${user.dir}/uploads/travel-documents/


.requestMatchers("/uploads/**").permitAll()

