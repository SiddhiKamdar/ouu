const buildHierarchy = () => {

  if (!data.managerChain?.length) return [];

  const chain: any[] = [];

  data.managerChain.forEach((row: any, index: number) => {

    chain.push({
      employeeId: row.employeeId,
      name: row.employeeName,
      position: row.employeePosition,
      profilePicture: row.employeeProfilePicture
    });

    /* LAST ROW â†’ ADD CEO */
    if (
      index === data.managerChain.length - 1 &&
      row.supervisiorName
    ) {
      chain.push({
        employeeId: row.supervisiorId, // if available
        name: row.supervisiorName,
        position: row.supervisiorPosition,
        profilePicture: row.supervisiorProfilePicture
      });
    }
  });

  return chain.reverse();
};

const hierarchy = buildHierarchy();
