import React from "react";
import { NavLink, Outlet, useNavigate } from "react-router-dom";

const AppLayout: React.FC = () => {
  const navigate = useNavigate();

  const user = JSON.parse(localStorage.getItem("user") || "{}");

  const handleLogout = () => {
    localStorage.clear();
    navigate("/");
  };

  const modules = [
    { label: "Travel", route: "travel" },
    { label: "Achievements", route: "achievements" },
    { label: "Games", route: "games" },
    { label: "Jobs", route: "jobs" }
  ];

  return (
    <div style={{ minHeight: "100vh", backgroundColor: "#f4f6f9" }}>

      {/* Top Navbar */}
      <nav className="navbar navbar-expand bg-white shadow-sm px-4">
        <span className="navbar-brand fw-bold">HRMS</span>

        <div className="ms-auto d-flex align-items-center gap-3">
          <div
            className="rounded-circle bg-success text-white d-flex justify-content-center align-items-center"
            style={{ width: "36px", height: "36px" }}
          >
            {user?.fullName?.charAt(0) || "U"}
          </div>

          <span className="fw-semibold">
            {user?.fullName || "User"}
          </span>

          <button
            className="btn btn-outline-danger btn-sm"
            onClick={handleLogout}
          >
            Logout
          </button>
        </div>
      </nav>

      {/* Module Navigation */}
      <div className="bg-white border-bottom">
        <div className="container d-flex gap-4 py-3">
          {modules.map((module) => (
            <NavLink
              key={module.route}
              to={module.route}
              className={({ isActive }) =>
                `text-decoration-none fw-semibold pb-2 ${
                  isActive
                    ? "text-success border-bottom border-2 border-success"
                    : "text-dark"
                }`
              }
            >
              {module.label}
            </NavLink>
          ))}
        </div>
      </div>

      {/* Page Content */}
      <div className="container py-4">
        <Outlet />
      </div>

    </div>
  );
};

export default AppLayout;

import { BrowserRouter, Routes, Route } from "react-router-dom";
import Login from "./pages/Login";
import AppLayout from "./layout/AppLayout";
import GameSchedule from "./pages/GameSchedule";

function App() {
  return (
    <BrowserRouter>
      <Routes>

        <Route path="/" element={<Login />} />

        <Route path="/app" element={<AppLayout />}>

          <Route path="travel" element={<div>Travel Page</div>} />
          <Route path="achievements" element={<div>Achievements Page</div>} />
          <Route path="games" element={<GameSchedule />} />
          <Route path="jobs" element={<div>Jobs Page</div>} />

        </Route>

      </Routes>
    </BrowserRouter>
  );
}

export default App;

